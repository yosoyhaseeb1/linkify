import{c as M,a as P,u as S,r as u,j as e,d as j,q as p,ai as w,U as F,T as $,aj as T,af as N}from"./index-EQAU33AY.js";import{F as m}from"./flame-DA6XEWSS.js";import{A as D}from"./activity-BZnYrNmU.js";import{C as g}from"./crown-BLbUXTpz.js";import{A as L}from"./award-CWz-VA9B.js";import{S as q}from"./star-DboGi0dJ.js";/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=M("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);function G(){const{members:v,currentOrg:z,loadingMembers:E}=P(),{user:y}=S(),[a,h]=u.useState("week"),[r,f]=u.useState("runs"),[n,C]=u.useState([]);u.useEffect(()=>{const s=v.map(t=>({id:t.id,name:t.name,avatar:t.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.id}`,role:t.role,email:t.email,stats:{totalRuns:0,runsToday:0,runsThisWeek:0,runsThisMonth:0,averagePerDay:0,averagePerWeek:0,pipelineContacts:0,contactsAddedThisWeek:0,contactsAddedThisMonth:0,taskCompletionRate:0,responseRate:0},streak:0,badges:[]}));C(s)},[v]);const i=[...n].sort((s,t)=>r==="runs"?a==="today"?t.stats.runsToday-s.stats.runsToday:a==="week"?t.stats.runsThisWeek-s.stats.runsThisWeek:a==="month"?t.stats.runsThisMonth-s.stats.runsThisMonth:t.stats.totalRuns-s.stats.totalRuns:r==="pipeline"?a==="week"?t.stats.contactsAddedThisWeek-s.stats.contactsAddedThisWeek:a==="month"?t.stats.contactsAddedThisMonth-s.stats.contactsAddedThisMonth:t.stats.pipelineContacts-s.stats.pipelineContacts:t.stats.taskCompletionRate-s.stats.taskCompletionRate),l=n.find(s=>s.email===y.email),b=s=>r==="runs"?a==="today"?s.stats.runsToday:a==="week"?s.stats.runsThisWeek:a==="month"?s.stats.runsThisMonth:s.stats.totalRuns:r==="pipeline"?a==="week"?s.stats.contactsAddedThisWeek:a==="month"?s.stats.contactsAddedThisMonth:s.stats.pipelineContacts:s.stats.taskCompletionRate,k=s=>s===1?e.jsx(g,{className:"w-5 h-5 text-yellow-500"}):s===2?e.jsx(R,{className:"w-5 h-5 text-gray-400"}):s===3?e.jsx(R,{className:"w-5 h-5 text-amber-600"}):null,o={runsPerDay:n.reduce((s,t)=>s+t.stats.averagePerDay,0)/n.length,runsPerWeek:n.reduce((s,t)=>s+t.stats.averagePerWeek,0)/n.length,pipelineContacts:n.reduce((s,t)=>s+t.stats.pipelineContacts,0)/n.length,taskCompletion:n.reduce((s,t)=>s+t.stats.taskCompletionRate,0)/n.length,responseRate:n.reduce((s,t)=>s+t.stats.responseRate,0)/n.length};return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(j,{className:"w-8 h-8 text-yellow-500"}),e.jsx("h1",{children:"Team Analytics"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Performance leaderboard and competition dashboard"})]}),l&&e.jsxs("div",{className:"glass-card rounded-lg p-6 mb-6 border-2 border-primary/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:l.avatar,alt:l.name,className:"w-12 h-12 rounded-full object-cover ring-2 ring-primary"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Your Performance"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.role})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:"text-2xl font-bold text-orange-500",children:l.streak}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"day streak"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(D,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Runs Today"})]}),e.jsx("div",{className:"text-2xl font-bold",children:l.stats.runsToday}),e.jsxs("div",{className:"text-xs text-green-500 flex items-center gap-1 mt-1",children:[e.jsx(p,{className:"w-3 h-3"}),"+23% vs avg"]})]}),e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(w,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"This Week"})]}),e.jsx("div",{className:"text-2xl font-bold",children:l.stats.runsThisWeek}),e.jsxs("div",{className:"text-xs text-green-500 flex items-center gap-1 mt-1",children:[e.jsx(p,{className:"w-3 h-3"}),"+15% vs avg"]})]}),e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Pipeline"})]}),e.jsx("div",{className:"text-2xl font-bold",children:l.stats.pipelineContacts}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["+",l.stats.contactsAddedThisWeek," this week"]})]}),e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Task Rate"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[l.stats.taskCompletionRate,"%"]}),e.jsxs("div",{className:"text-xs text-green-500 flex items-center gap-1 mt-1",children:[e.jsx(p,{className:"w-3 h-3"}),"Above avg"]})]}),e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(T,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Response"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[l.stats.responseRate,"%"]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["vs ",o.responseRate.toFixed(0),"% avg"]})]})]}),e.jsx("div",{className:"flex gap-2 mt-4 pt-4 border-t border-border flex-wrap",children:l.badges.map((s,t)=>e.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:s},t))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[e.jsxs("div",{className:"flex gap-2 bg-muted rounded-lg p-1",children:[e.jsx("button",{onClick:()=>f("runs"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="runs"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"ðŸƒ Runs"}),e.jsx("button",{onClick:()=>f("pipeline"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="pipeline"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"ðŸ’¼ Pipeline"}),e.jsx("button",{onClick:()=>f("tasks"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="tasks"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"âœ… Tasks"})]}),r!=="tasks"&&e.jsxs("div",{className:"flex gap-2 bg-muted rounded-lg p-1",children:[e.jsx("button",{onClick:()=>h("today"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a==="today"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Today"}),e.jsx("button",{onClick:()=>h("week"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a==="week"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"This Week"}),e.jsx("button",{onClick:()=>h("month"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a==="month"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"This Month"}),e.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a==="all"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"All Time"})]})]}),e.jsxs("div",{className:"glass-card rounded-lg overflow-hidden mb-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 px-3 sm:px-6 py-3 sm:py-4 border-b border-border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(j,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-500"}),e.jsxs("h2",{className:"text-base sm:text-xl font-semibold",children:[r==="runs"&&"Runs Leaderboard",r==="pipeline"&&"Pipeline Competition",r==="tasks"&&"Task Completion Leaders"]})]}),e.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[a==="today"&&"Today",a==="week"&&"This Week",a==="month"&&"This Month",a==="all"&&"All Time"]})]})}),e.jsx("div",{className:"divide-y divide-border",children:i.map((s,t)=>{const d=t+1,c=b(s),x=s.email===y.email;return e.jsxs(N.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.05},className:`px-3 sm:px-6 py-3 sm:py-4 hover:bg-muted/30 transition-colors ${x?"bg-primary/5 border-l-2 sm:border-l-4 border-l-primary":""}`,children:[e.jsxs("div",{className:"flex flex-col sm:hidden gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx("div",{className:"w-8 flex items-center justify-center flex-shrink-0",children:k(d)||e.jsxs("span",{className:"text-lg font-bold text-muted-foreground",children:["#",d]})}),e.jsx("img",{src:s.avatar,alt:s.name,className:`w-10 h-10 rounded-full object-cover flex-shrink-0 ${x?"ring-2 ring-primary":""}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("h3",{className:"font-semibold truncate text-sm",children:[s.name,x&&e.jsx("span",{className:"ml-1 text-xs text-primary",children:"(You)"})]}),d===1&&e.jsx(g,{className:"w-3 h-3 text-yellow-500 flex-shrink-0"})]}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.role})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsxs("div",{className:"text-xl font-bold",children:[c,r==="tasks"&&"%"]}),e.jsxs("div",{className:"text-xs text-muted-foreground whitespace-nowrap",children:[r==="runs"&&a==="today"&&"today",r==="runs"&&a==="week"&&"week",r==="runs"&&a==="month"&&"month",r==="runs"&&a==="all"&&"total",r==="pipeline"&&a==="week"&&"week",r==="pipeline"&&a==="month"&&"month",r==="pipeline"&&(a==="all"||a==="today")&&"total",r==="tasks"&&"rate"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-10",children:[s.streak>=3&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-orange-500/10 rounded-full",children:[e.jsx(m,{className:"w-3 h-3 text-orange-500"}),e.jsxs("span",{className:"text-xs font-semibold text-orange-500",children:[s.streak,"d"]})]}),r==="tasks"&&e.jsx("div",{className:"flex-1 h-1.5 bg-muted rounded-full overflow-hidden",children:e.jsx(N.div,{initial:{width:0},animate:{width:`${c}%`},transition:{delay:t*.05,duration:.5},className:"h-full bg-gradient-to-r from-primary to-primary-hover"})})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{className:"w-12 flex items-center justify-center",children:k(d)||e.jsxs("span",{className:"text-2xl font-bold text-muted-foreground",children:["#",d]})}),e.jsx("img",{src:s.avatar,alt:s.name,className:`w-12 h-12 rounded-full object-cover ${x?"ring-2 ring-primary":""}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h3",{className:"font-semibold",children:[s.name,x&&e.jsx("span",{className:"ml-2 text-xs text-primary",children:"(You)"})]}),d===1&&e.jsx(g,{className:"w-4 h-4 text-yellow-500"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.role})]}),s.streak>=3&&e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-orange-500/10 rounded-full",children:[e.jsx(m,{className:"w-4 h-4 text-orange-500"}),e.jsxs("span",{className:"text-sm font-semibold text-orange-500",children:[s.streak," days"]})]})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[r==="runs"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold",children:c}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[a==="today"&&"runs today",a==="week"&&"runs this week",a==="month"&&"runs this month",a==="all"&&"total runs"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg text-muted-foreground",children:s.stats.averagePerDay.toFixed(1)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"avg/day"})]})]}),r==="pipeline"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold",children:c}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[a==="week"&&"added this week",a==="month"&&"added this month",(a==="all"||a==="today")&&"total contacts"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg text-muted-foreground",children:[s.stats.responseRate,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"response"})]})]}),r==="tasks"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-3xl font-bold",children:[c,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"completion rate"})]}),e.jsx("div",{className:"w-32 h-2 bg-muted rounded-full overflow-hidden",children:e.jsx(N.div,{initial:{width:0},animate:{width:`${c}%`},transition:{delay:t*.05,duration:.5},className:"h-full bg-gradient-to-r from-primary to-primary-hover"})})]})]})]}),d<=3&&s.badges.length>0&&e.jsx("div",{className:"flex gap-2 mt-3 ml-10 sm:ml-16 flex-wrap",children:s.badges.slice(0,3).map((A,W)=>e.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded-full",children:A},W))})]},s.id)})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[e.jsxs("div",{className:"glass-card rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(w,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{className:"font-semibold",children:"Team Averages"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Runs/Day"}),e.jsx("span",{className:"font-semibold",children:o.runsPerDay.toFixed(1)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Runs/Week"}),e.jsx("span",{className:"font-semibold",children:o.runsPerWeek.toFixed(0)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Pipeline Size"}),e.jsx("span",{className:"font-semibold",children:o.pipelineContacts.toFixed(0)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Task Completion"}),e.jsxs("span",{className:"font-semibold",children:[o.taskCompletion.toFixed(0),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Rate"}),e.jsxs("span",{className:"font-semibold",children:[o.responseRate.toFixed(0),"%"]})]})]})]}),e.jsxs("div",{className:"glass-card rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(p,{className:"w-5 h-5 text-green-500"}),e.jsx("h3",{className:"font-semibold",children:"Performance Insights"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-yellow-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Top Performer"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i[0].name," leads with ",b(i[0])," this period"]})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(m,{className:"w-4 h-4 text-orange-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Longest Streak"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[[...n].sort((s,t)=>t.streak-s.streak)[0].name," - ",[...n].sort((s,t)=>t.streak-s.streak)[0].streak," days"]})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(q,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Rising Star"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i[i.length-1].name," showing strong improvement"]})]})]})]})]}),e.jsxs("div",{className:"glass-card rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(j,{className:"w-5 h-5 text-yellow-500"}),e.jsx("h3",{className:"font-semibold",children:"Recent Achievements"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-yellow-500/10 rounded-lg border border-yellow-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(g,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-sm font-semibold",children:"Week Champion"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i[0].name," - Most productive this week"]})]}),e.jsxs("div",{className:"p-3 bg-orange-500/10 rounded-lg border border-orange-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(m,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm font-semibold",children:"On Fire"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[l==null?void 0:l.name," - ",l==null?void 0:l.streak," day streak"]})]}),e.jsxs("div",{className:"p-3 bg-blue-500/10 rounded-lg border border-blue-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(T,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-semibold",children:"Speed Record"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Team hit 200+ runs this week"})]})]})]})]})]})}export{G as Analytics};
